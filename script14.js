const questions14 = [
    {question: "a- / an-",
    answers : [
        { text : "without / not", correct: true },
        { text : "plural", correct: false },
        { text : "away / against", correct: false },
        { text : "cause (to make)", correct: false }
    ],
    hint: "anarchy, anaerobic, amoral, amorphous, atheist, apathy" }, {
    question: "ad-",
    answers : [
        { text : "to", correct: true },
        { text : "toward", correct: false },
        { text : "forward", correct: false },
        { text : "beyond", correct: false }
    ],
    hint: "adhere, adapt, adhesive, addendum, addition, addict" }, {
    question: "alt",
    answers : [
        { text : "high", correct: true },
        { text : "another", correct: false },
        { text : "appearance", correct: false },
        { text : "somewhat", correct: false }
    ],
    hint: "altius, altitude, alto, altimeter, altar, altocumulus, contralto" }, {
    question: "ann",
    answers : [
        { text : "year", correct: true },
        { text : "month", correct: false },
        { text : "time", correct: false },
        { text : "decade", correct: false }
    ],
    hint: "annual, annuity, biannual, anniversary, perennial, annals, centennial" }, {
    question: "-ate",
    answers : [
        { text : "cause (to make)", correct: true },
        { text : "(to) eat", correct: false },
        { text : "bad / ill", correct: false },
        { text : "state or quality", correct: false }
    ],
    hint: "domesticate, implicate, create, insinuate, placate" },
    {question: "centri",
    answers : [
        { text : "center", correct: true },
        { text : "time", correct: false },
        { text : "around / ring", correct: false },
        { text : "whole", correct: false }
    ],
    hint: "eccentric, centrifugal, centrist, concentric, decentralize, centralize" }, {
    question: "chron",
    answers : [
        { text : "time", correct: true },
        { text : "month", correct: false },
        { text : "year", correct: false },
        { text : "decade", correct: false }
    ],
    hint: "chronic, chronometer, chronological, chronicle, anachronism, synchronize" }, {
    question: "ethn-",
    answers : [
        { text : "race / culture", correct: true },
        { text : "good", correct: false },
        { text : "beside / near", correct: false },
        { text : "together / with", correct: false }
    ],
    hint: "ethnocentrism, ethnography, ethnic, ethnologist, ethnology" }, {
    question: "eu-",
    answers : [
        { text : "good", correct: true },
        { text : "complete / excessively", correct: false },
        { text : "same", correct: false },
        { text : "all", correct: false }
    ],
    hint: "euphony, eulogy, euphemism, Europe ,eugenics" }, {
    question: "for-",
    answers : [
        { text : "completely / excessively", correct: true },
        { text : "with / together", correct: false },
        { text : "same", correct: false },
        { text : "lead / bring", correct: false }
    ],
    hint: "forsworn, forbear, forbid," },
    {question: "gon",
    answers : [
        { text : "angle / corner", correct: true },
        { text : "sided object", correct: false },
        { text : "same", correct: false },
        { text : "object", correct: false }
    ],
    hint: "polygon, pentagon, decagon, diagonal, hexagonal" }, {
    question: "hedron",
    answers : [
        { text : "sided object", correct: true },
        { text : "different", correct: false },
        { text : "angle / corner", correct: false }
    ],
    hint: "polyhedron, tetrahedron, octahedron, duo-decahedron, cathedral" }, {
    question: "hetero-",
    answers : [
        { text : "different", correct: true },
        { text : "down / make opposite", correct: false },
        { text : "against / opposite", correct: false },
        { text : "not same", correct: false }
    ],
    hint: "heterodox, heterogeneous, heteronym, heteromorphy" }, {
    question: "hexa",
    answers : [
        { text : "six", correct: true },
        { text : "seven", correct: false },
        { text : "five", correct: false },
        { text : "twelve", correct: false }
    ],
    hint: "hexagram, hexagon, hexameter, hexarchy, hexahedron" }, {
    question: "homo-",
    answers : [
        { text : "same", correct: true },
        { text : "together / same", correct: false },
        { text : "all", correct: false },
        { text : "similar", correct: false }
    ],
    hint: "homophone, homogenous, homogenize, homonym" },
    {question: "lin",
    answers : [
        { text : "line", correct: true },
        { text : "sided object", correct: false },
        { text : "straight", correct: false },
        { text : "angle / corner", correct: false }
    ],
    hint: "linear, lineal, lineament, delineate" }, {
    question: "omni-",
    answers : [
        { text : "all", correct: true },
        { text : "one who", correct: false },
        { text : "beside / near", correct: false },
        { text : "lead / bring", correct: false }
    ]}, {
    question: "contra / counter",
    answers : [
        { text : "against / opposite", correct: true },
        { text : "down / make opposite", correct: false },
        { text : "bad / ill", correct: false },
        { text : "away / against", correct: false }
    ],
    hint: "contradict, contrast, counteract, counterrevolution, contrary, country" }, {
    question: "-or / -er",
    answers : [
        { text : "one who", correct: true },
        { text : "all", correct: false },
        { text : "knowing", correct: false },
        { text : "person", correct: false }
    ],
    hint: "singer, lawyer, advisor, teacher, reporter, trader, etc." },
    {question: "pan-",
        answers : [
            { text : "all", correct: true },
            { text : "one who", correct: false },
            { text : "bread", correct: false },
            { text : "beside / near", correct: false }
        ],
        hint: "Pan-American, panorama, panoply, pantheism, pandemic" }, {
        question: "para-",
        answers : [
            { text : "beside / near", correct: true },
            { text : "one who", correct: false },
            { text : "all", correct: false },
            { text : "same", correct: false }
        ],
        hint: "parabola, parable, paradigm, paradox, paraphrase" }, {
        question: "quin",
        answers : [
            { text : "five", correct: true },
            { text : "four", correct: false },
            { text : "six", correct: false },
            { text : "quintillion", correct: false }
        ],
        hint: "quintet, quintuplet, quintessence, quindecagon" }, {
        question: "se-",
        answers : [
            { text : "apart", correct: true },
            { text : "six", correct: false },
            { text : "away", correct: false },
            { text : "against", correct: false }
        ],
        hint: "secede, secret, desition, desuce, segregate, select" }, {
        question: "sext",
        answers : [
            { text : "six", correct: true },
            { text : "seven", correct: false },
            { text : "pack", correct: false },
            { text : "dozen", correct: false }
        ],
        hint: "sextuple, sextant, sextet, six pack (?), sexagenarian" }, {
        question: "-ward",
        answers : [
            { text : "in or toward (which is funny bc toward has -ward)", correct: true },
            { text : "dungeon", correct: false },
            { text : "forward", correct: false },
            { text : "out", correct: false }
        ],
        hint: "forward, backward, toward, homeward, skyward, seaward, westward, upward, foreward" }
]

const startButton14 = document.getElementById("start14");
const startScreen = document.getElementById("start-screen");
const quizScreen = document.getElementById("quiz");
const questionElement = document.getElementById("question");
const options = document.getElementById("options");
const nextButton = document.getElementById("next");

let currentQuestions = [];
let currentQuestionIndex = 0;
let score = 0;

const hintButton = document.getElementById("hint-button");
const hintContent = document.getElementById("hint-content");
const hintText = document.getElementById("hint-text");

hintButton.addEventListener("click", () => {
    if (hintContent.classList.contains("show")) {
        hintContent.classList.remove("show");
        hintButton.textContent = "Show Hint";
    } else {
        hintContent.classList.add("show");
        hintButton.textContent = "Hide Hint";
    }
});

startButton14.addEventListener("click", () => {
    startScreen.style.display = "none";
    quizScreen.style.display = "block";
    startQuiz();
});

function startQuiz() {
    currentQuestions = shuffle([...questions14]);
    currentQuestionIndex = 0;
    score = 0;
    nextButton.innerHTML = "Next &#8594;";
    nextButton.style.display = "none";
    showQuestion();
}

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function showQuestion() {
    resetState();

    const currentQuestion = currentQuestions[currentQuestionIndex];
    questionElement.innerHTML = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;
    
    // reset hint
    hintContent.classList.remove("show");
    hintButton.textContent = "Show Hint";
    hintText.innerText = currentQuestion.hint || "";

    shuffle(currentQuestion.answers).forEach(answer => {
        const button = document.createElement("button");
        button.innerHTML = answer.text;
        button.classList.add("btn");
        if (answer.correct) button.dataset.correct = answer.correct;
        button.addEventListener("click", selectAnswer);
        options.appendChild(button);
    });
}

function resetState() {
    nextButton.style.display = "none";
    while (options.firstChild) {
        options.removeChild(options.firstChild);
    }
}

function selectAnswer(e) {
    const selectedBtn = e.target;
    const isCorrect = selectedBtn.dataset.correct === "true";

    if (isCorrect) {
        selectedBtn.classList.add("correct");
        score++;
    } else {
        selectedBtn.classList.add("incorrect");
        const correctBtn = Array.from(options.children).find(btn => btn.dataset.correct === "true");
        if (correctBtn) correctBtn.classList.add("correct");
    }

    Array.from(options.children).forEach(button => button.disabled = true);

    nextButton.style.display = "block";
}

nextButton.addEventListener("click", () => {
    currentQuestionIndex++;
    if (currentQuestionIndex < currentQuestions.length) {
        showQuestion();
    } else {
        showScore();
    }
});

function showScore() {
    resetState();
    questionElement.innerHTML = `You scored ${score} out of ${currentQuestions.length}!`;
    nextButton.style.display = "none";

    const playAgain = document.createElement("button");
    playAgain.innerHTML = "Play Again";
    playAgain.classList.add("btn");
    playAgain.addEventListener("click", startQuiz);
    options.appendChild(playAgain);

    const homePage = document.createElement("button");
    homePage.innerHTML = "Home &#9166;";
    homePage.classList.add("btn");
    homePage.addEventListener("click", () => { window.location.href = "index.html"; });
    options.appendChild(homePage);

    const nextList = document.createElement("button");
    nextList.innerHTML = "Next List &#8594;";
    nextList.classList.add("btn");
    nextList.addEventListener("click", () => { window.location.href ="list15.html"; });
    options.appendChild(nextList);
}
